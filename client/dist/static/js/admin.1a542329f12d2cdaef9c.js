webpackJsonp([2],{"/wAz":function(t,e){},"1RCJ":function(t,e){},"2FN2":function(t,e,n){"use strict";function i(t){n("xLeL")}var s={name:"NumberInput",props:{min:{type:Number,default:0},max:{type:Number,default:1},initNum:{type:Number,default:1}},data:function(){return{num:this.initNum||this.min}},methods:{minus:function(){this.num<=this.min||(this.num=Number(this.num)-1)},add:function(){this.num>=this.max||(this.num=Number(this.num)+1)}},watch:{num:function(t,e){this.$emit("input",Number(t)),this.$emit("changeHandle")},initNum:function(t){""!==t&&(this.num=t)}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NumberInput"},[n("span",{class:["minus",{ban:t.num<=t.min}],on:{click:t.minus}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"number",min:t.min,max:t.max},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),n("span",{class:["add",{ban:t.num>=t.max}],on:{click:t.add}},[t._v("+")])])},o=[],c={render:a,staticRenderFns:o},r=c,u=n("C7Lr"),d=i,l=u(s,r,!1,d,"data-v-7ca30f92",null);e.a=l.exports},ASYH:function(t,e){},Ahzl:function(t,e){},Cxi0:function(t,e){},"Du/2":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"f",function(){return o}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return r});var i="SET_ADMIN_TOKEN",s="SET_ADMIN_NAME",a="ADMIN_LOGOUT",o="SET_CLIENT_TOKEN",c="SET_CLIENT_NAME",r="CLIENT_LOGOUT"},Duuk:function(t,e,n){"use strict";function i(t){n("sasx")}var s=n("yt7g"),a={name:"ErrorPage",computed:{width:function(){return Object(s.b)().width},height:function(){return Object(s.b)().height}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ErrorPage",style:{width:t.width+"px",height:t.height+"px"}},[n("h3",[t._v("404")]),t._v(" "),n("p",[t._v("抱歉，您访问的页面跑丢了~")])])},c=[],r={render:o,staticRenderFns:c},u=r,d=n("C7Lr"),l=i,p=d(a,u,!1,l,"data-v-16ca5be6",null);e.a=p.exports},Ft66:function(t,e){},HMOT:function(t,e){},IcnI:function(t,e,n){"use strict";var i={},s={};n.d(s,"adminToken",function(){return u}),n.d(s,"clientToken",function(){return d});var a,o=n("2bvH"),c=n("xd7I"),r=n("Du/2"),u=function(t){return t.adminToken},d=function(t){return t.clientToken},l=n("yt7g"),p={adminToken:Object(l.c)("adminToken")?Object(l.c)("adminToken"):null,adminName:Object(l.c)("adminName")?Object(l.c)("adminName"):"",clientName:Object(l.c)("clientName")?Object(l.c)("clientName"):"",clientToken:Object(l.c)("clientToken")?Object(l.c)("clientToken"):null},m=p,h=n("a3Yh"),f=n.n(h),v=(a={},f()(a,r.d,function(t,e){t.adminToken=e,Object(l.e)("adminToken",e)}),f()(a,r.a,function(t){t.adminToken=null,t.adminName="",localStorage.removeItem("adminToken","adminName")}),f()(a,r.c,function(t,e){t.adminName=e,Object(l.e)("adminName",e)}),f()(a,r.f,function(t,e){t.clientToken=e,Object(l.e)("clientToken",e)}),f()(a,r.e,function(t,e){t.clientName=e,Object(l.e)("clientName",e)}),f()(a,r.b,function(t){t.clientToken=null,t.clientName="",localStorage.removeItem("clientToken","clientName")}),a),_=v;c.a.use(o.a);e.a=new o.a.Store({actions:i,getters:s,state:m,mutations:_})},Ielz:function(t,e){},KhYh:function(t,e){},M93x:function(t,e,n){"use strict";function i(t){n("mSi8")}var s={name:"app"},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("router-view")],1)],1)},o=[],c={render:a,staticRenderFns:o},r=c,u=n("C7Lr"),d=i,l=u(s,r,!1,d,"data-v-5271dfb2",null);e.a=l.exports},MGHG:function(t,e){},X35S:function(t,e){},ZNWW:function(t,e){},hPsV:function(t,e){},iPmM:function(t,e){},kfLN:function(t,e,n){"use strict";function i(t){n("ASYH")}var s=n("yt7g"),a={name:"Popup",props:{title:{type:String,default:"提示信息"}},data:function(){return{show:!1,windowWidth:Object(s.b)().width,windowHeight:Object(s.b)().height}},methods:{closePopup:function(){this.$emit("popupClose")}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PopupWrapper",style:{width:t.windowWidth+"px",height:t.windowHeight+"px",lineHeight:t.windowHeight+"px"},on:{click:function(e){return e.stopPropagation(),t.closePopup(e)}}},[n("div",{staticClass:"Popup",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"popupHeader"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("span",{staticClass:"closeBtn",on:{click:t.closePopup}},[n("i",{staticClass:"iconfont icon-close"})])]),t._v(" "),n("div",{staticClass:"popupBody"},[t._t("popupContent")],2)])])},c=[],r={render:o,staticRenderFns:c},u=r,d=n("C7Lr"),l=i,p=d(a,u,!1,l,"data-v-04993f58",null);e.a=p.exports},mSi8:function(t,e){},mnSt:function(t,e){},qczc:function(t,e,n){"use strict";function i(t){var e=Y.post("/api/admin/login",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function s(){var t=Y.get("/api/admin/allUser");return new H.a(function(e,n){t.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(t){0===t.code?e(t.data):n(t.message)}).catch(function(t){n(t.toString())})})}function a(t){var e=Y.delete("/api/admin/deleteUser?id="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function o(t){var e=Y.get("/api/admin/searchUser?word="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function c(t){var e=Y.post("/api/admin/changePwd",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function r(){var t=Y.get("/api/admin/noReplyMsg");return new H.a(function(e,n){t.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(t){0===t.code?e(t.data):n(t.message)}).catch(function(t){n(t.toString())})})}function u(){var t=Y.get("/api/admin/repliedMsg");return new H.a(function(e,n){t.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(t){0===t.code?e(t.data):n(t.message)}).catch(function(t){n(t.toString())})})}function d(t){var e=Y.post("/api/admin/reply",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function l(t){var e=Y.get("/api/admin/orders?state="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function p(t){var e=Y.get("/api/admin/order?id="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function m(t){var e=Y.post("/api/admin/changeOrder",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function h(t){var e=Y.delete("/api/admin/deleteOrder?id="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function f(t){var e=Y.get("/api/admin/getGoodsByType?typeId="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function v(){var t=Y.get("/api/admin/getType");return new H.a(function(e,n){t.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(t){0===t.code?e(t.data):n(t.message)}).catch(function(t){n(t.toString())})})}function _(t){var e=Y.post("/api/admin/addType",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function g(t){var e=Y.get("/api/admin/getGoodsInfo?id="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function C(t){var e=Y.post("/api/admin/addGoods",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function w(t){var e=Y.post("/api/admin/addSpec",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function b(t){var e=Y.post("/api/admin/deleteSpec",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function x(t){var e=Y.post("/api/admin/updateGoods",t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function T(t){var e=Y.delete("/api/admin/deleteGoods?id="+t);return new H.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function k(t){n("mnSt")}function N(t){n("Cxi0")}function y(t){n("iPmM")}function I(t){n("Ahzl")}function S(t){n("Ielz")}function L(t){n("X35S")}function P(t){n("hPsV")}function $(t){n("Ft66")}function E(t){n("MGHG")}function O(t){n("HMOT")}function M(t){n("ZNWW")}Object.defineProperty(e,"__esModule",{value:!0});var R=(n("briU"),n("xd7I")),A=n("M93x"),B=n("7LQH"),U=n("IcnI"),j=n("4YfN"),V=n.n(j),F=n("2bvH"),G=n("yt7g"),D=n("rVsN"),H=n.n(D),q=n("2sCs"),W=n.n(q),z=n("Du/2");W.a.defaults.timeout=5e3,W.a.defaults.baseURL="http://localhost:3000",W.a.interceptors.request.use(function(t){return U.a.state.adminToken&&(t.headers.Authorization="Bearer "+U.a.state.adminToken),t},function(t){return H.a.reject(t)}),W.a.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 401:U.a.commit(z.a),qe.replace({path:"login",query:{redirect:qe.currentRoute.fullPath}})}return H.a.reject(t.response.data)});var Y=W.a,K={name:"AdminLogin",computed:{width:function(){return Object(G.b)().width},height:function(){return Object(G.b)().height}},data:function(){return{}},methods:V()({},Object(F.b)({setAdminName:"SET_ADMIN_NAME",setAdminToken:"SET_ADMIN_TOKEN"}),{login:function(){var t=this;i({account:this.$refs.account.value,pwd:this.$refs.pwd.value}).then(function(e){t.setAdminName(e.name),t.setAdminToken(e.token),t.$router.push("/backstage")}).catch(function(t){alert("登录失败")})}})},J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AdminLogin",style:{width:t.width+"px",height:t.height+"px"}},[n("div",{staticClass:"content"},[n("h3",[t._v("MoreMall")]),t._v(" "),n("P",[t._v("后台管理系统")]),t._v(" "),n("input",{ref:"account",attrs:{type:"text",placeholder:"账号"}}),t._v(" "),n("input",{ref:"pwd",attrs:{type:"password",placeholder:"密码"}}),t._v(" "),n("button",{on:{click:t.login}},[t._v("登录")])],1)])},X=[],Z={render:J,staticRenderFns:X},Q=Z,tt=n("C7Lr"),et=k,nt=tt(K,Q,!1,et,"data-v-658c3378",null),it=nt.exports,st={name:"Backstage",data:function(){return{userTipsShow:!1,curPath:this.$route.path}},computed:V()({},Object(F.c)(["adminName"]),{width:function(){return Object(G.b)().width},height:function(){return Object(G.b)().height}}),methods:V()({},Object(F.b)({adminLogout:"ADMIN_LOGOUT"}),{showUserTips:function(){this.userTipsShow=!0},closeUserTips:function(){this.userTipsShow=!1},navTo:function(t){this.curPath!==t&&this.$router.push(t)},logout:function(){this.adminLogout(),this.$router.push("/login")}}),watch:{$route:function(t,e){this.curPath=t.path}}},at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Backstage",style:{width:t.width+"px",height:t.height+"px"}},[n("div",{staticClass:"bsLeft"},[n("div",{staticClass:"logo"},[t._v("More Mall")]),t._v(" "),n("ul",{style:{height:t.height-70+"px"}},[n("li",{class:{selected:"/backstage/editUser"===t.curPath},on:{click:function(e){return t.navTo("/backstage/editUser")}}},[t._v("用户管理")]),t._v(" "),n("li",{class:{selected:"/backstage/goods"===t.curPath},on:{click:function(e){return t.navTo("/backstage/goods")}}},[t._v("商品管理")]),t._v(" "),n("li",{class:{selected:"/backstage/orders"===t.curPath},on:{click:function(e){return t.navTo("/backstage/orders")}}},[t._v("订单管理")]),t._v(" "),n("li",{class:{selected:"/backstage/messages"===t.curPath},on:{click:function(e){return t.navTo("/backstage/messages")}}},[t._v("留言管理")]),t._v(" "),n("li",{class:{selected:"/backstage/editAdmin"===t.curPath},on:{click:function(e){return t.navTo("/backstage/editAdmin")}}},[t._v("修改资料")])])]),n("div",{staticClass:"bsRight"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v("后台管理系统")]),t._v(" "),n("div",{staticClass:"userInfo"},[t._v("\n        当前用户：\n        "),n("span",{on:{mouseover:t.showUserTips,mouseout:t.closeUserTips}},[t._v(t._s(t.adminName))]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.userTipsShow,expression:"userTipsShow"}],staticClass:"userTips",on:{mouseover:t.showUserTips,mouseout:t.closeUserTips}},[n("li",{on:{click:function(e){return t.navTo("/backstage/editAdmin")}}},[t._v("修改资料")]),t._v(" "),n("li",{on:{click:t.logout}},[t._v("退出")])])])]),t._v(" "),n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("router-view",{style:{height:t.height-70+"px",overflowY:"scroll",width:"100%",padding:"20px",backgroundColor:"#f6f5fa"}})],1)],1)])},ot=[],ct={render:at,staticRenderFns:ot},rt=ct,ut=n("C7Lr"),dt=N,lt=ut(st,rt,!1,dt,"data-v-7e42a674",null),pt=lt.exports,mt={name:"EditUser",computed:{},data:function(){return{userList:[]}},mounted:function(){var t=this;s().then(function(e){t.userList=e}).catch(function(t){alert(t)})},methods:{deleteUser:function(t){var e=this;a(t).then(function(){alert("删除成功"),e.userList.map(function(n,i){n.id===t&&e.userList.splice(i,1)})}).catch(function(t){alert(t)})},searchUser:function(){var t=this;o(this.$refs.input.value).then(function(e){t.userList=e}).catch(function(t){alert(t)})}}},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditUser"},[n("header",{staticClass:"clear"},[n("span",[t._v("用户管理")]),t._v(" "),n("div",[n("input",{ref:"input",attrs:{type:"text",placeholder:"输入搜索用户"}}),n("button",{on:{click:t.searchUser}},[n("i",{staticClass:"iconfont icon-search"})])])]),t._v(" "),n("table",{attrs:{className:"userTable"}},[t._m(0),t._v(" "),n("tbody",t._l(t.userList,function(e,i){return n("tr",{key:"user"+e.id},[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.email))]),t._v(" "),n("td",[t._v(t._s(e.nickname))]),t._v(" "),n("td",[t._v(t._s(e.sex))]),t._v(" "),n("td",[t._v(t._s(e.recipient))]),t._v(" "),n("td",[t._v(t._s(e.address))]),t._v(" "),n("td",[t._v(t._s(e.phone))]),t._v(" "),n("td",[n("button",{staticClass:"delete",on:{click:function(n){return t.deleteUser(e.id)}}},[t._v("删除")])])])}),0)])])},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("用户ID")]),n("th",[t._v("email")]),n("th",[t._v("昵称")]),n("th",[t._v("性别")]),n("th",[t._v("收件人")]),n("th",[t._v("收货地址")]),n("th",[t._v("联系电话")]),n("th",[t._v("操作")])])])}],vt={render:ht,staticRenderFns:ft},_t=vt,gt=n("C7Lr"),Ct=y,wt=gt(mt,_t,!1,Ct,"data-v-6db5ae47",null),bt=wt.exports,xt={name:"TextInput",props:{placeholder:{type:String,default:""},initText:{type:String,default:""},type:{type:String,default:"text"}},data:function(){return{text:this.initText||""}},methods:{},watch:{text:function(t,e){this.$emit("input",t)},initText:function(t){this.text=t}}},Tt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"TextInput",attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})},kt=[],Nt={render:Tt,staticRenderFns:kt},yt=Nt,It=n("C7Lr"),St=I,Lt=It(xt,yt,!1,St,"data-v-2278f945",null),Pt=Lt.exports,$t={name:"EditAdmin",components:{TextInput:Pt},computed:V()({},Object(F.c)(["adminToken"])),data:function(){return{oldPwd:"",newPwd:"",confirmPwd:""}},methods:{confirmChange:function(){var t=this;c({adminToken:this.adminToken,oldPwd:this.oldPwd+"",newPwd:this.newPwd+"",confirmPwd:this.confirmPwd+""}).then(function(){t.oldPwd="",t.newPwd="",t.confirmPwd="",alert("修改成功！")}).catch(function(t){alert(t)})}}},Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditAdmin"},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"inputBox"},[n("span",[t._v("原密码：")]),t._v(" "),n("TextInput",{attrs:{placeholder:"请输入原密码",type:"password"},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}})],1),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("新密码：")]),t._v(" "),n("TextInput",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:t.newPwd,callback:function(e){t.newPwd=e},expression:"newPwd"}})],1),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("确认新密码：")]),t._v(" "),n("TextInput",{attrs:{placeholder:"请再输入一次新密码",type:"password"},model:{value:t.confirmPwd,callback:function(e){t.confirmPwd=e},expression:"confirmPwd"}})],1),t._v(" "),n("button",{on:{click:t.confirmChange}},[t._v("确认修改")])])])},Ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"clear"},[n("span",[t._v("修改资料")])])}],Mt={render:Et,staticRenderFns:Ot},Rt=Mt,At=n("C7Lr"),Bt=S,Ut=At($t,Rt,!1,Bt,"data-v-a9939c58",null),jt=Ut.exports,Vt={name:"Tag",props:{tagList:{type:Array,default:[]}},data:function(){return{curIndex:0}},methods:{chooseTag:function(t){this.curIndex=t,this.$emit("indexChange",t)}}},Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"Tag"},t._l(t.tagList,function(e,i){return n("li",{key:"tag"+i,class:{selected:t.curIndex===i},on:{click:function(e){return t.chooseTag(i)}}},[t._v(t._s(e))])}),0)},Gt=[],Dt={render:Ft,staticRenderFns:Gt},Ht=Dt,qt=n("C7Lr"),Wt=L,zt=qt(Vt,Ht,!1,Wt,"data-v-163328bd",null),Yt=zt.exports,Kt=n("kfLN"),Jt={name:"Goods",components:{Tag:Yt,Popup:Kt.a},computed:{tagTextList:function(){var t=[];return this.tags.map(function(e,n){t.push(e.name)}),t}},data:function(){return{tags:[],goodsList:[],popupShow:!1,curIndex:0}},methods:{changeTag:function(t){var e=this;this.curIndex=t,f(this.tags[t].id).then(function(t){e.goodsList=t}).catch(function(t){alert(t)})},getTypes:function(){var t=this;v().then(function(e){t.tags=e,t.changeTag(t.curIndex)}).catch(function(t){alert(t)})},addType:function(){this.popupShow=!0},closePopup:function(){this.popupShow=!1},addConfirm:function(){var t=this;_({name:this.$refs.typeInput.value}).then(function(){alert("添加成功!"),t.getTypes(),t.closePopup()}).catch(function(t){alert(t)})},navTo:function(t){this.$router.push(t)},deleteGoods:function(t){var e=this;T(t).then(function(){e.goodsList.map(function(n,i){n.id===t&&e.goodsList.splice(i,1)})}).catch(function(t){alert(t)})}},mounted:function(){this.getTypes()}},Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Goods"},[n("header",{staticClass:"clear"},[n("span",[t._v("商品管理")]),t._v(" "),n("button",{on:{click:t.addType}},[t._v("添加类目")])]),t._v(" "),n("Tag",{attrs:{tagList:t.tagTextList},on:{indexChange:t.changeTag}}),t._v(" "),n("div",{staticClass:"content"},[n("ul",{staticClass:"clear"},[t._l(t.goodsList,function(e,i){return n("li",{key:"goods"+e.id},[n("img",{attrs:{src:e.img,alt:""}}),t._v(" "),n("span",[t._v(t._s(e.name))]),t._v(" "),n("div",[n("button",{staticClass:"normalBtn",on:{click:function(n){return t.navTo("/backstage/goods/"+e.id)}}},[t._v("编辑")]),t._v(" "),n("button",{staticClass:"deleteBtn",on:{click:function(n){return t.deleteGoods(e.id)}}},[t._v("删除")])])])}),t._v(" "),n("li",[n("div",{staticClass:"addGoods",on:{click:function(e){return t.navTo("/backstage/goods/new")}}},[n("div",[t._v("+")]),t._v("\n\t\t\t\t\t点击增加商品\n\t\t\t\t")])])],2)]),t._v(" "),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],attrs:{title:"增加类目"},on:{popupClose:t.closePopup}},[n("div",{staticClass:"popupContent",attrs:{slot:"popupContent"},slot:"popupContent"},[n("input",{ref:"typeInput",attrs:{type:"text",placeholder:"请输入类目名称"}}),t._v(" "),n("button",{on:{click:t.addConfirm}},[t._v("确认")])])])],1)},Zt=[],Qt={render:Xt,staticRenderFns:Zt},te=Qt,ee=n("C7Lr"),ne=P,ie=ee(Jt,te,!1,ne,"data-v-531f985b",null),se=ie.exports,ae={name:"Orders",components:{Tag:Yt},computed:{},data:function(){return{tags:["全部","未付款","未发货","已发货","已到货"],orderList:[]}},methods:{changeTag:function(t){var e=this;l(t-1).then(function(t){e.orderList=t}).catch(function(t){alert(t)})},editOrder:function(t){this.$router.push("/backstage/orders/"+t)},deleteOrder:function(t){var e=this;h(t).then(function(){alert("删除成功"),e.orderList.map(function(n,i){n.id===t&&e.orderList.splice(i,1)})}).catch(function(t){alert(t)})}},mounted:function(){this.changeTag(0)}},oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Orders"},[t._m(0),t._v(" "),n("Tag",{attrs:{tagList:t.tags},on:{indexChange:t.changeTag}}),t._v(" "),n("div",{staticClass:"content"},[n("table",{staticClass:"ordersTable"},[t._m(1),t._v(" "),n("tbody",t._l(t.orderList,function(e,i){return n("tr",{key:"order"+e.id},[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.user.nickname))]),t._v(" "),n("td",[t._v(t._s(e.user.name))]),t._v(" "),n("td",[t._v(t._s(e.user.address))]),t._v(" "),n("td",[t._v(t._s(e.user.phone))]),t._v(" "),n("td",[t._v(t._s(e.goods))]),t._v(" "),n("td",[t._v(t._s(e.spec))]),t._v(" "),n("td",[t._v(t._s(e.num))]),t._v(" "),n("td",[t._v(t._s(e.amount))]),t._v(" "),n("td",[t._v(t._s(e.state))]),t._v(" "),n("td",[t._v(t._s(e.time))]),t._v(" "),n("td",[n("button",{staticClass:"normal",on:{click:function(n){return t.editOrder(e.id)}}},[t._v("编辑")]),n("button",{staticClass:"delete",on:{click:function(n){return t.deleteOrder(e.id)}}},[t._v("删除")])])])}),0)])])],1)},ce=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"clear"},[n("span",[t._v("订单管理")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("订单号")]),n("th",[t._v("用户昵称")]),n("th",[t._v("收件人")]),n("th",[t._v("收货地址")]),n("th",[t._v("联系电话")]),n("th",[t._v("商品")]),n("th",[t._v("规格")]),n("th",[t._v("购买数量")]),n("th",[t._v("金额")]),n("th",[t._v("订单状态")]),n("th",[t._v("更新时间")]),n("th",[t._v("操作")])])])}],re={render:oe,staticRenderFns:ce},ue=re,de=n("C7Lr"),le=$,pe=de(ae,ue,!1,le,"data-v-87592ab2",null),me=pe.exports,he=n("uPNt"),fe=n("2FN2"),ve={name:"EditOrders",components:{Radio:he.a,NumberInput:fe.a},computed:{amount:function(){var t=this,e=0;return this.spec.map(function(n,i){n.id===t.temSpecId&&(e=n.unitPrice)}),this.temNum*e}},data:function(){return{id:this.$route.params.id,goods:"",spec:[],states:[],curSpecId:"",curStateId:"",temSpecId:"",temNum:0,temState:""}},methods:{fetchOrderDetail:function(t){var e=this;p(t).then(function(t){e.goods=t.goods,e.spec=t.spec,e.states=t.states,e.curSpecId=t.curSpec.id,e.curStateId=t.curState.id,e.temSpecId=t.curSpec.id,e.temNum=Number(t.num),e.temStateId=t.curState.id}).catch(function(t){alert(t)})},back:function(){this.$router.go(-1)},saveChange:function(){var t=this;m({id:this.$route.params.id,state:this.temStateId,spec:this.temSpecId,num:this.temNum}).then(function(){alert("修改成功"),t.fetchOrderDetail(t.$route.params.id)}).catch(function(t){alert(t)})}},mounted:function(){this.fetchOrderDetail(this.$route.params.id)}},_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditOrders"},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"inputBox"},[n("span",[t._v("订单号：")]),t._v(" "),n("span",{staticClass:"val"},[t._v(t._s(t.id))])]),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("商品名称：")]),t._v(" "),n("span",{staticClass:"val"},[t._v(t._s(t.goods))])]),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("总金额：")]),t._v(" "),n("span",{staticClass:"val"},[t._v(t._s("¥"+t.amount))])]),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("规格：")]),t._v(" "),t._l(t.spec,function(e,i){return n("Radio",{key:e.id,attrs:{initVal:t.temSpecId,radioName:"spec",radioVal:e.id},model:{value:t.temSpecId,callback:function(e){t.temSpecId=e},expression:"temSpecId"}},[n("span",{staticClass:"tips",attrs:{slot:"tips"},slot:"tips"},[t._v(t._s(e.specName))])])})],2),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("数量：")]),t._v(" "),n("NumberInput",{attrs:{initNum:t.temNum,min:1,max:999},model:{value:t.temNum,callback:function(e){t.temNum=e},expression:"temNum"}})],1),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("订单状态：")]),t._v(" "),t._l(t.states,function(e,i){return n("Radio",{key:e.id,attrs:{initVal:t.temStateId,radioName:"state",radioVal:e.id},model:{value:t.temStateId,callback:function(e){t.temStateId=e},expression:"temStateId"}},[n("span",{staticClass:"tips",attrs:{slot:"tips"},slot:"tips"},[t._v(t._s(e.name))])])})],2),t._v(" "),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"confirmBtn",on:{click:t.saveChange}},[t._v("保存修改")]),t._v(" "),n("button",{staticClass:"normalBtn",on:{click:t.back}},[t._v("返回")])])])])},ge=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"clear"},[n("span",[t._v("订单编辑")])])}],Ce={render:_e,staticRenderFns:ge},we=Ce,be=n("C7Lr"),xe=E,Te=be(ve,we,!1,xe,"data-v-5fdbd784",null),ke=Te.exports,Ne={name:"EditGoods",components:{Popup:Kt.a,Radio:he.a,TextInput:Pt},data:function(){return{popupShow:!1,id:this.$route.params.id,goodsName:"",types:[],initTypeId:"",temTypeId:"",goodsImg:"",desc:"",specList:[{specName:"默认",stockNum:0,unitPrice:0}]}},methods:{getTypes:function(){var t=this;v().then(function(e){t.types=e}).catch(function(t){alert(t)})},back:function(){this.$router.go(-1)},saveChange:function(){if("new"===this.id){C({name:this.goodsName,typeId:this.temTypeId,img:this.goodsImg,desc:this.desc,specList:this.specList}).then(function(){alert("创建商品成功！")}).catch(function(t){alert(t)})}else{x({id:this.id,name:this.goodsName,typeId:this.temTypeId,img:this.goodsImg,desc:this.desc,specList:this.specList}).then(function(){alert("修改成功！")}).catch(function(t){alert(t)})}},closePopup:function(){this.popupShow=!1},addConfirm:function(){var t=this;if("new"===this.id){var e=this.$refs.specNameInput.value,n=this.$refs.stockNumInput.value,i=this.$refs.priceInput.value;this.specList.push({specName:e,stockNum:n,unitPrice:i}),this.closePopup()}else{w({goodsId:this.id,specName:this.$refs.specNameInput.value,stockNum:this.$refs.stockNumInput.value,unitPrice:this.$refs.priceInput.value}).then(function(e){t.specList.push(e),t.closePopup()}).catch(function(t){alert(t)})}},showPopup:function(){this.popupShow=!0},deleteSpec:function(t){var e=this;if("new"===this.id)this.specList.map(function(n,i){n.specName===t&&e.specList.splice(i,1)});else{b({goodsId:this.id,specName:t}).then(function(){e.specList.map(function(n,i){n.specName===t&&e.specList.splice(i,1)})}).catch(function(t){alert(t)})}}},mounted:function(){var t=this;if(this.getTypes(),"new"===this.id);else{g(this.id).then(function(e){t.temTypeId=e.goods.typeId,t.initTypeId=e.goods.typeId,t.goodsName=e.goods.name,t.goodsImg=e.goods.img,t.desc=e.goods.desc,t.specList=e.specs}).catch(function(t){alert(t)})}}},ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditGoods"},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"inputBox"},[n("span",[t._v("商品名称：")]),t._v(" "),n("TextInput",{staticClass:"long",attrs:{placeholder:"请输入商品名称",initText:t.goodsName},model:{value:t.goodsName,callback:function(e){t.goodsName=e},expression:"goodsName"}})],1),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("选择类目：")]),t._v(" "),t._l(t.types,function(e,i){return n("Radio",{key:e.id,attrs:{initVal:String(t.initTypeId),radioName:"type",radioVal:String(e.id)},model:{value:t.temTypeId,callback:function(e){t.temTypeId=e},expression:"temTypeId"}},[n("span",{staticClass:"tips",attrs:{slot:"tips"},slot:"tips"},[t._v(t._s(e.name))])])})],2),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("图片地址：")]),t._v(" "),n("TextInput",{staticClass:"long",attrs:{placeholder:"请输入图片地址",initText:t.goodsImg},model:{value:t.goodsImg,callback:function(e){t.goodsImg=e},expression:"goodsImg"}})],1),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",{staticClass:"verTop"},[t._v("规格详情：")]),t._v(" "),n("ul",[t._l(t.specList,function(e,i){return n("li",{key:i},[n("span",[t._v("名称：")]),n("TextInput",{attrs:{placeholder:"请输入规格名称",initText:e.specName},model:{value:e.specName,callback:function(n){t.$set(e,"specName",n)},expression:"item.specName"}}),t._v(" "),n("span",[t._v("库存量：")]),n("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.stockNum,expression:"item.stockNum",modifiers:{trim:!0,number:!0}}],staticClass:"numInput",attrs:{type:"text"},domProps:{value:e.stockNum},on:{input:function(n){n.target.composing||t.$set(e,"stockNum",t._n(n.target.value.trim()))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",[t._v("价格：")]),n("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.unitPrice,expression:"item.unitPrice",modifiers:{trim:!0,number:!0}}],staticClass:"numInput",attrs:{type:"text"},domProps:{value:e.unitPrice},on:{input:function(n){n.target.composing||t.$set(e,"unitPrice",t._n(n.target.value.trim()))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.specList.length>1,expression:"specList.length>1"}],on:{click:function(n){return t.deleteSpec(e.specName)}}},[n("i",{staticClass:"iconfont icon-close"})])],1)}),t._v(" "),n("li",{staticClass:"addSpec",on:{click:t.showPopup}},[t._v("添加规格")])],2)]),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",[t._v("详情描述：")]),t._v(" "),n("TextInput",{staticClass:"long",attrs:{placeholder:"请输入简单描述",initText:t.desc},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),t._v(" "),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"confirmBtn",on:{click:t.saveChange}},[t._v("保存修改")]),t._v(" "),n("button",{staticClass:"normalBtn",on:{click:t.back}},[t._v("返回")])])]),t._v(" "),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],attrs:{title:"添加规格"},on:{popupClose:t.closePopup}},[n("div",{staticClass:"popupContent",attrs:{slot:"popupContent"},slot:"popupContent"},[n("input",{ref:"specNameInput",attrs:{type:"text",placeholder:"请输入规格名称"}}),t._v(" "),n("input",{ref:"stockNumInput",attrs:{type:"text",placeholder:"请输入库存量"}}),t._v(" "),n("input",{ref:"priceInput",attrs:{type:"text",placeholder:"请输入单价"}}),t._v(" "),n("button",{on:{click:t.addConfirm}},[t._v("确认")])])])],1)},Ie=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"clear"},[n("span",[t._v("商品编辑")])])}],Se={render:ye,staticRenderFns:Ie},Le=Se,Pe=n("C7Lr"),$e=O,Ee=Pe(Ne,Le,!1,$e,"data-v-542dfb90",null),Oe=Ee.exports,Me={name:"Messages",components:{Tag:Yt,Popup:Kt.a},computed:{},data:function(){return{tags:["未回复","已回复"],noReplyMsgList:[],repliedMsgList:[],curIndex:0,curMsgId:0,popupShow:!1}},methods:{changeTag:function(t){this.curIndex=t,1===t?this.getRepliedMsg():this.getNoReplyMsg()},getNoReplyMsg:function(){var t=this;r().then(function(e){t.noReplyMsgList=e}).catch(function(t){alert(t)})},getRepliedMsg:function(){var t=this;u().then(function(e){t.repliedMsgList=e}).catch(function(t){alert(t)})},reply:function(t){this.popupShow=!0,this.curMsgId=t,this.$refs.replyText.value=""},closePopup:function(){this.popupShow=!1},replyConfirm:function(){var t=this,e=this.$refs.replyText.value;d({id:this.curMsgId,content:e}).then(function(){alert("回复成功!"),t.noReplyMsgList.map(function(e,n){e.id===t.curMsgId&&t.noReplyMsgList.splice(n,1)}),t.closePopup()}).catch(function(t){alert(t)})}},mounted:function(){this.getNoReplyMsg()}},Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Messages"},[t._m(0),t._v(" "),n("Tag",{attrs:{tagList:t.tags},on:{indexChange:t.changeTag}}),t._v(" "),n("div",{staticClass:"content"},[0===t.curIndex?n("ul",{staticClass:"msgList"},t._l(t.noReplyMsgList,function(e,i){return n("li",{key:"noReply"+e.id,staticClass:"clear"},[n("img",{attrs:{src:e.user.headimg,alt:""}}),t._v(" "),n("div",{staticClass:"info"},[n("span",{staticClass:"name"},[t._v(t._s(e.user.name))]),t._v(" "),n("div",{staticClass:"goods ellipsis"},[t._v("商品："+t._s(e.goods.name))]),t._v(" "),n("p",[t._v(t._s(e.content))])]),t._v(" "),n("div",{staticClass:"operate"},[n("div",[t._v(t._s(e.time))]),t._v(" "),n("button",{on:{click:function(n){return t.reply(e.id)}}},[t._v("回复")])])])}),0):n("ul",{staticClass:"msgList"},t._l(t.repliedMsgList,function(e,i){return n("li",{key:"replied"+e.id,staticClass:"clear"},[n("img",{attrs:{src:e.user.headimg,alt:""}}),t._v(" "),n("div",{staticClass:"info"},[n("span",{staticClass:"name"},[t._v(t._s(e.user.name))]),t._v(" "),n("div",{staticClass:"goods ellipsis"},[t._v("商品："+t._s(e.goods.name))]),t._v(" "),n("p",[t._v(t._s(e.content))]),t._v(" "),n("p",{staticClass:"replyContent"},[t._v(t._s("回复内容："+e.replyContent))])]),t._v(" "),n("div",{staticClass:"operate"},[n("div",[t._v(t._s(e.time))]),t._v(" "),n("span",[t._v("已回复")])])])}),0)]),t._v(" "),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],attrs:{title:"回复留言"},on:{popupClose:t.closePopup}},[n("div",{staticClass:"popupContent",attrs:{slot:"popupContent"},slot:"popupContent"},[n("textarea",{ref:"replyText",attrs:{cols:"30",rows:"10",placeholder:"请输入回复内容"}}),t._v(" "),n("button",{on:{click:t.replyConfirm}},[t._v("确认")])])])],1)},Ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"clear"},[n("span",[t._v("留言管理")])])}],Be={render:Re,staticRenderFns:Ae},Ue=Be,je=n("C7Lr"),Ve=M,Fe=je(Me,Ue,!1,Ve,"data-v-e7a12708",null),Ge=Fe.exports,De=n("Duuk");R.a.use(B.a);var He=new B.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"AdminLogin",component:it},{path:"/backstage",name:"Backstage",redirect:"/backstage/editUser",component:pt,children:[{path:"editUser",name:"EditUser",component:bt,meta:{requireLogin:!0}},{path:"editAdmin",name:"EditAdmin",component:jt,meta:{requireLogin:!0}},{path:"goods",name:"Goods",component:se,meta:{requireLogin:!0}},{path:"goods/:id",name:"EditGoods",component:Oe,meta:{requireLogin:!0}},{path:"orders",name:"Orders",component:me,meta:{requireLogin:!0}},{path:"orders/:id",name:"EditOrders",component:ke,meta:{requireLogin:!0}},{path:"messages",name:"Messages",component:Ge,meta:{requireLogin:!0}}]},{path:"*",name:"ErrorPage",component:De.a}],scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});He.beforeEach(function(t,e,n){t.meta.requireLogin?U.a.state.adminToken?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});var qe=He;n("KhYh"),n("/wAz");R.a.config.productionTip=!1,new R.a({el:"#app",router:qe,store:U.a,template:"<App/>",components:{App:A.a}})},sasx:function(t,e){},uPNt:function(t,e,n){"use strict";function i(t){n("1RCJ")}var s={name:"Radio",props:["radioName","radioVal","initVal"],data:function(){return{selectedVal:""}},methods:{changeRadio:function(t){this.$emit("input",t)}},mounted:function(){""!==this.initVal&&this.radioVal===this.initVal&&this.$refs.radio.setAttribute("checked","checked")},watch:{initVal:function(t,e){""!==this.initVal&&this.radioVal===this.initVal&&this.$refs.radio.setAttribute("checked","checked")}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"Radio"},[n("input",{ref:"radio",attrs:{name:t.radioName,type:"radio"},domProps:{value:t.radioVal},on:{change:function(e){return t.changeRadio(t.radioVal)}}}),t._v(" "),n("span",{staticClass:"tipsBox"},[t._t("tips")],2)])},o=[],c={render:a,staticRenderFns:o},r=c,u=n("C7Lr"),d=i,l=u(s,r,!1,d,"data-v-596b2cae",null);e.a=l.exports},xLeL:function(t,e){},yt7g:function(t,e,n){"use strict";function i(){var t=document.documentElement.clientHeight||document.body.clientHeight;return{width:document.documentElement.clientWidth||document.body.clientWidth,height:t}}function s(){var t=void 0,e=void 0,n=document.createElement("DIV");return n.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;",t=document.body.appendChild(n).clientWidth,n.style.overflowY="scroll",e=n.clientWidth,document.body.removeChild(n),t-e}function a(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(a),window.scrollTo(0,t-t/5))}function o(t){var e=void 0;try{e=localStorage.getItem(t)}catch(t){__DEV__&&console.error("localStorage.getItem报错, ",t.message)}finally{return e}}function c(t,e){try{localStorage.setItem(t,e)}catch(t){__DEV__&&console.error("localStorage.setItem报错, ",t.message)}}e.b=i,e.d=s,e.a=a,e.c=o,e.e=c}},["qczc"]);
//# sourceMappingURL=admin.1a542329f12d2cdaef9c.js.map